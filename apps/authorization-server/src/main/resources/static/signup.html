<html lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link href="/auth/layui/css/layui.css" type="text/css" rel="stylesheet">
    <script src="/auth/layui/layui.js"></script>
    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;subset=devanagari,latin-ext"
          rel="stylesheet">

    <!-- title of site -->
    <title>Sign up</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png"/>

    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!--animate.css-->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- bootsnav -->
    <link rel="stylesheet" href="assets/css/bootsnav.css">

    <!--style.css-->
    <link rel="stylesheet" href="assets/css/style.css">

    <!--responsive.css-->
    <link rel="stylesheet" href="assets/css/responsive.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- signin end -->
<section class="signin signup">
    <div class="container">

        <div class="sign-content">
            <h2>注册</h2>

            <div class="row">
                <div class="col-sm-12">
                    <div class="signin-form">
                        <form action="/auth/regester">
                            <div class="form-col">
                                <div class="form-group">
                                    <label>昵称</label>
                                    <input type="text" class="form-control" placeholder="昵称" name="name">
                                </div><!--/.form-group -->
                            </div><!--/.form-col -->
                            <div class="form-col1">
                                <div class="form-group">
                                    <label>职业</label>
                                    <input type="text" class="form-control" value="魔法师" name="job">
                                </div><!--/.form-group -->
                            </div><!--/.form-col1 -->
                            <div class="form-group">
                                <label>用户名</label>
                                <input type="email" class="form-control" placeholder="请输入用户名" name="username">
                            </div><!--/.form-group -->
                            <div class="form-group">
                                <label>密码</label>
                                <input type="password" class="form-control" placeholder="密码" name="password">
                            </div><!--/.form-group -->
                            <div class="form-group">
                                <label>确认密码</label>
                                <input type="password" class="form-control" placeholder="确认密码" name="sure">
                            </div><!--/.form-group -->
                        </form><!--/form -->
                    </div><!--/.signin-form -->
                </div><!--/.col -->
            </div><!--/.row -->


            <div class="row">
                <div class="col-sm-12">
                    <div class="signin-footer">
                        <button type="button" class="btn signin_btn" data-toggle="modal" data-target=".signin_modal">
                            注册
                        </button>
                        <p>
                            已经是会员 ?
                            <a href="/auth/login">登录</a></p>
                    </div><!--/.signin-footer -->
                </div><!--/.col-->
            </div><!--/.row -->
        </div><!--/.sign-content -->

    </div><!--/.container -->
</section><!--/.signin -->

<!-- signin end -->


<!-- Include all js compiled plugins (below), or include individual files as needed -->

<script src="assets/js/jquery.js"></script>

<!--modernizr.min.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

<!--bootstrap.min.js-->
<script src="assets/js/bootstrap.min.js"></script>

<!-- bootsnav js -->
<script src="assets/js/bootsnav.js"></script>

<!-- jquery.sticky.js -->
<script src="assets/js/jquery.sticky.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>


<!--Custom JS-->
<script src="assets/js/custom.js"></script>
<script>
    $(function () {
        $('.signin_btn').on('click', function () {
            layui.use(['layer'], function () {
                var name = $("input[name='name']").val();
                var job = $("input[name='job']").val();
                var username = $("input[name='username']").val();
                var password = $("input[name='password']").val();
                var sure = $("input[name='sure']").val();
                if (!name) {
                    layer.tips("姓名为空",".signin_btn");
                    return ;
                }
                if(!job){
                    layer.tips("职业为空",".signin_btn");
                    return;
                }
                if(!password){
                    layer.tips("密码为空",".signin_btn");
                    return;
                }
                if(!sure||password!=sure){
                    layer.tips("请确认密码",".signin_btn");
                    return ;
                }
                $.ajax({
                    url:'/auth/regester',
                    method:'post',
                    contentType:'application/json',
                    data:JSON.stringify({
                        "name":name,
                        "job":job,
                        "password":password,
                        "username":username
                    }),
                    success:function (data) {
                        if(data.status==200){
                            alert("注册成功")
                            window.location.href="http://127.0.0.1/blog/";
                        }else{
                            alert(data.result);
                        }
                    }
                })
            });
        })
    })
</script>
</body>
</html>